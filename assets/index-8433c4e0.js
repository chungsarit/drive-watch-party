import{r as l,j as e,a as g}from"./react-0540d938.js";import{c as x}from"./react-dom-53c40d85.js";import{C as f,P as b,A as j,T as p,B as y,a as m,F as v,b as w,c as S,G as d,L as u}from"./@mui-2d31ab23.js";import"./scheduler-765c72db.js";import"./@babel-a34c9de3.js";import"./clsx-1229b3e0.js";import"./react-transition-group-1779d60a.js";import"./@emotion-b94f9f3d.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./stylis-79144faa.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();function L(o){return e.jsxs(p,{variant:"body2",color:"text.secondary",align:"center",...o,children:["Copyright Â© ",e.jsx(u,{color:"inherit",href:"https://chungsarit.github.io/drive-watch-party/",children:"Chung Sarit"})," ",new Date().getFullYear(),"."]})}function I({onLogin:o}){const[s,i]=l.useState(""),[n,t]=l.useState(""),[r,c]=l.useState(!1),h=async a=>{a.preventDefault(),(await(await fetch("https://flask-watch-party-api.up.railway.app/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:n}),credentials:"include"})).json()).status==="success"?o(!0):alert("Invalid credentials.")};return e.jsxs(f,{component:"main",maxWidth:"xs",children:[e.jsxs(b,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"#8c6484",elevation:3,boxShadow:5,p:4},children:[e.jsx(j,{src:"/drive-watch-party/dubu-login-icon.png",sx:{m:1,bgcolor:"white",border:"solid 1px",boxShadow:3}}),e.jsxs(p,{component:"h1",variant:"body1",sx:{textAlign:"center"},children:["WELCOME TO ",e.jsx("br",{}),"Budu & Dudu Watch Party"]}),e.jsxs(y,{component:"form",onSubmit:h,noValidate:!0,sx:{mt:1},children:[e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User name",name:"username",autoComplete:"username",autoFocus:!0,value:s,onChange:a=>i(a.target.value)}),e.jsx(m,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:a=>t(a.target.value)}),e.jsx(v,{control:e.jsx(w,{checked:r,onChange:a=>c(a.target.checked),color:"primary"}),label:"Remember me"}),e.jsx(S,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),e.jsxs(d,{container:!0,children:[e.jsx(d,{item:!0,xs:!0,children:e.jsx(u,{href:"#",variant:"body2",children:"Forgot password?"})}),e.jsx(d,{item:!0,children:e.jsx(u,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),e.jsx(L,{sx:{mt:8,mb:4}})]})}function C({videoId:o}){const s=`https://drive.google.com/file/d/${o}/preview`;return e.jsx("div",{className:"center-content",children:e.jsx("iframe",{src:s,className:"video-iframe",style:{height:"30vh",maxWidth:"640px",width:"100%"},allow:"autoplay",allowFullScreen:!0})})}function N(){const[o,s]=l.useState(()=>localStorage.getItem("isLoggedIn")==="true");l.useEffect(()=>{localStorage.setItem("isLoggedIn",o)},[o]);function i(){s(!1),localStorage.setItem("isLoggedIn","false")}const n="18q26y91LlBPqyFbaUQVK3-7joNf0sV11";return o?e.jsxs("div",{className:"App",children:[e.jsx("button",{className:"logout-btn",onClick:i,children:"Logout"}),e.jsxs("div",{className:"header",children:[e.jsx("img",{src:"/drive-watch-party/dudu-hi.png",alt:"Dudu"}),e.jsx("img",{className:"dudububu",src:"/drive-watch-party/dudububu-watchtv.png",alt:"Dudububu"})]}),e.jsxs("div",{className:"main-content",children:[e.jsx("div",{className:"title",children:e.jsx("p",{children:e.jsx("span",{className:"highlight",children:"Dudu & Bubu Movie time ðŸ“º"})})}),e.jsx(C,{videoId:n})]}),e.jsx("div",{className:"footer",children:e.jsx("img",{src:"/drive-watch-party/bubu-hi.png",alt:"Bubu"})})]}):e.jsx(I,{onLogin:s})}x.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(N,{})}));
